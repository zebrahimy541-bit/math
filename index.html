<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>آزمایشگاه دسته‌بندی اعداد</title>
  <style>
    body {
      font-family: "Tahoma", "Vazirmatn", sans-serif;
      margin: 0;
      text-align: center;
      padding: 40px;
      color: #0d47a1;
      background: #bbdefb;
      background-image:
        repeating-linear-gradient(45deg, rgba(255,255,255,0.3) 0px, rgba(255,255,255,0.3) 2px, transparent 2px, transparent 6px),
        radial-gradient(circle at 20% 20%, rgba(255,255,255,0.4) 0%, transparent 40%),
        radial-gradient(circle at 80% 80%, rgba(255,255,255,0.4) 0%, transparent 40%);
    }
    h1 { color: #0d47a1; }
    input {
      padding: 12px;
      margin: 10px;
      font-size: 18px;
      width: 260px;
      text-align: center;
      border: 2px solid #0d47a1;
      border-radius: 8px;
      color: #0d47a1;
    }
    button {
      padding: 10px;
      font-size: 16px;
      cursor: pointer;
      border-radius: 8px;
      border: none;
      background: #0d47a1;
      color: white;
      transition: 0.2s;
    }
    button:hover { background: #1565c0; }
    .keyboard {
      display: none;
      grid-template-columns: repeat(5, 1fr);
      gap: 10px;
      max-width: 300px;
      margin: 20px auto;
    }
    .keyboard button {
      background: #e3f2fd;
      color: #0d47a1;
      font-weight: bold;
      border: 1px solid #0d47a1;
      border-radius: 6px;
    }
    .keyboard button:hover {
      background: #0d47a1;
      color: white;
    }
    .result {
      margin-top: 20px;
      font-weight: bold;
      color: #0d9488;
      text-align: left;
      display: inline-block;
    }
    .error { color: red; }
    .guide {
      display: none;
      margin: 20px auto;
      max-width: 500px;
      background: rgba(255,255,255,0.9);
      border: 1px solid #90caf9;
      border-radius: 8px;
      padding: 15px;
      text-align: right;
      color: #0d47a1;
    }
    .guide ul {
      margin: 0;
      padding-left: 20px;
      text-align: right;
    }
    .sets {
      margin-top: 30px;
      padding: 15px;
      background: rgba(255,255,255,0.9);
      border-radius: 8px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      text-align: right;
    }
  </style>
</head>
<body>
  <h1>آزمایشگاه دسته‌بندی اعداد</h1>
  <p>یک عدد وارد کنید:</p>
  
  <input type="text" id="numberInput" placeholder="عدد را در اینجا وارد کنید">
  <button onclick="classifyNumber()">کلاس‌بندی</button>
  <button onclick="toggleGuide()">راهنما</button>
  
  <!-- راهنمای ورودی -->
  <div id="guide" class="guide">
    <strong>راهنمای ورودی:</strong>
    <ul>
      <li>اعداد صحیح: 5 ، -3 ، 0</li>
      <li>اعداد اعشاری: 2.5 ، -0.125</li>
      <li>اعداد کسری: 3/4 ، -7/2</li>
      <li>اعداد رادیکالی: √2 ، √16</li>
    </ul>
  </div>
  
  <!-- کیبورد مجازی -->
  <div id="keyboard" class="keyboard">
    <button onclick="addChar('7')">7</button>
    <button onclick="addChar('8')">8</button>
    <button onclick="addChar('9')">9</button>
    <button onclick="addChar('/')">/</button>
    <button onclick="addChar('√')">√</button>
    
    <button onclick="addChar('4')">4</button>
    <button onclick="addChar('5')">5</button>
    <button onclick="addChar('6')">6</button>
    <button onclick="addChar('.')">.</button>
    <button onclick="addChar('-')">-</button>
    
    <button onclick="addChar('1')">1</button>
    <button onclick="addChar('2')">2</button>
    <button onclick="addChar('3')">3</button>
    <button onclick="addChar('0')">0</button>
    <button onclick="clearInput()">پاک</button>
  </div>
  
  <div id="result" class="result"></div>
  
  <!-- مجموعه‌های عددی -->
  <div class="sets">
    <strong>مجموعه‌های عددی جهانی:</strong>
    <ul>
      <li>طبیعی (N): 0, 1, 2, 3, ...</li>
      <li>صحیح (Z): ..., -2, -1, 0, 1, 2, ...</li>
      <li>گویا (Q): اعداد به صورت a/b با a,b صحیح و b≠0</li>
      <li>گنگ (I): مثل √2 ، π</li>
      <li>حقیقی (R): همهٔ اعداد روی محور حقیقی</li>
    </ul>
  </div>
  
  <script>
    const inputEl = document.getElementById("numberInput");
    const keyboardEl = document.getElementById("keyboard");
    const guideEl = document.getElementById("guide");

    // نمایش کیبورد هنگام کلیک روی ورودی
    inputEl.addEventListener("focus", () => {
      keyboardEl.style.display = "grid";
    });

    function addChar(c) {
      inputEl.value += c;
    }
    function clearInput() {
      inputEl.value = "";
    }
    function toggleGuide() {
      guideEl.style.display = guideEl.style.display === "block" ? "none" : "block";
    }

    function parseInput(value) {
      value = value.trim();
      if (value.startsWith("√")) {
        let rad = parseFloat(value.slice(1));
        if (isNaN(rad)) throw "رادیکال نامعتبر است!";
        return { type: "sqrt", radicand: rad, value: Math.sqrt(rad) };
      }
      if (value.includes("/")) {
        let parts = value.split("/");
        if (parts.length !== 2) throw "کسر نامعتبر است!";
        let a = parseFloat(parts[0]);
        let b = parseFloat(parts[1]);
        if (isNaN(a) || isNaN(b) || b === 0) throw "کسر نامعتبر یا تقسیم بر صفر!";
        return { type: "fraction", value: a / b };
      }
      let num = parseFloat(value);
      if (isNaN(num)) throw "ورودی عددی نیست!";
      return { type: "number", value: num };
    }

    function classifyNumber() {
      const input = inputEl.value;
      const resultDiv = document.getElementById("result");
      try {
        const parsed = parseInput(input);
        const num = parsed.value;
        let explanation = "";
        let category = "";

        if (parsed.type === "sqrt") {
          if (Number.isInteger(num)) {
            category = num >= 0 ? "طبیعی" : "صحیح";
            explanation = `رادیکاند مربع کامل بود، پس جذر ${num} عدد صحیح است.`;
          } else {
            category = "گنگ";
            explanation = `رادیکاند مربع کامل نبود، پس جذر ${num.toFixed(4)} عدد گنگ است.`;
          }
        } else if (parsed.type === "fraction") {
          if (Number.isInteger(num)) {
            category = num >= 0 ? "طبیعی" : "صحیح";
            explanation = `کسر ساده شد و نتیجه ${num} عدد صحیح است.`;
          } else {
            category = "گویا";
            explanation = `این عدد به صورت کسر نوشته شده، پس گویا است (${num}).`;
